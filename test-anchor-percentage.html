<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>é”šç‚¹ç™¾åˆ†æ¯”åç§»é‡æµ‹è¯•</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            padding: 20px;
            background: #f0f0f0;
        }
        .test-container {
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            max-width: 800px;
        }
        .code-block {
            background: #f8f8f8;
            border: 1px solid #ddd;
            border-radius: 4px;
            padding: 15px;
            margin: 10px 0;
            font-family: monospace;
            white-space: pre-wrap;
        }
        .result {
            background: #e8f5e8;
            border: 1px solid #4caf50;
            border-radius: 4px;
            padding: 15px;
            margin: 10px 0;
        }
        .error {
            background: #ffe8e8;
            border: 1px solid #f44336;
            border-radius: 4px;
            padding: 15px;
            margin: 10px 0;
        }
    </style>
</head>
<body>
    <div class="test-container">
        <h1>ğŸ¯ é”šç‚¹ç™¾åˆ†æ¯”åç§»é‡åŠŸèƒ½æµ‹è¯•</h1>
        
        <h2>æµ‹è¯•åœºæ™¯</h2>
        <p>éªŒè¯æ›´æ–°åçš„é”šç‚¹ç³»ç»Ÿæ˜¯å¦æ­£ç¡®æ”¯æŒç™¾åˆ†æ¯”åç§»é‡ï¼Œç”¨äºå“åº”å¼è®¾è®¡ã€‚</p>

        <h3>1. è§£æåç§»é‡å€¼æµ‹è¯•</h3>
        <div class="code-block">
// æµ‹è¯•å„ç§åç§»é‡æ ¼å¼çš„è§£æ
const testCases = [
    { input: '10px', expected: { value: 10, unit: 'px' } },
    { input: '5%', expected: { value: 5, unit: '%' } },
    { input: '-20px', expected: { value: -20, unit: 'px' } },
    { input: '15.5%', expected: { value: 15.5, unit: '%' } },
    { input: '0', expected: { value: 0, unit: 'px' } },
    { input: '', expected: { value: 0, unit: 'px' } }
];
        </div>

        <h3>2. é”šç‚¹åç§»è®¡ç®—æµ‹è¯•</h3>
        <div class="code-block">
// æ¨¡æ‹Ÿçˆ¶å®¹å™¨å°ºå¯¸
const parentSize = { width: 1920, height: 1080 };

// æµ‹è¯•ç™¾åˆ†æ¯”åç§»é‡è®¡ç®—
const percentageOffset = { x: '5%', y: '10%' };
// æœŸæœ›ç»“æœ: x = 96px (1920 * 0.05), y = 108px (1080 * 0.10)

// æµ‹è¯•åƒç´ åç§»é‡è®¡ç®—
const pixelOffset = { x: '20px', y: '30px' };
// æœŸæœ›ç»“æœ: x = 20px, y = 30px

// æµ‹è¯•æ··åˆåç§»é‡
const mixedOffset = { x: '2.5%', y: '15px' };
// æœŸæœ›ç»“æœ: x = 48px (1920 * 0.025), y = 15px
        </div>

        <h3>3. å“åº”å¼æµ‹è¯•</h3>
        <div class="code-block">
// ä¸åŒåˆ†è¾¨ç‡ä¸‹çš„è¡¨ç°
const resolutions = [
    { name: '1920x1080 (æ¡Œé¢)', width: 1920, height: 1080 },
    { name: '1366x768 (ç¬”è®°æœ¬)', width: 1366, height: 768 },
    { name: '768x1024 (å¹³æ¿)', width: 768, height: 1024 },
    { name: '375x667 (æ‰‹æœº)', width: 375, height: 667 }
];

// 5% åç§»é‡åœ¨ä¸åŒåˆ†è¾¨ç‡ä¸‹çš„è¡¨ç°:
// 1920x1080: x=96px, y=54px
// 1366x768:  x=68.3px, y=38.4px  
// 768x1024:  x=38.4px, y=51.2px
// 375x667:   x=18.75px, y=33.35px
        </div>

        <div class="result">
            âœ… <strong>æ›´æ–°å®Œæˆçš„åŠŸèƒ½:</strong><br>
            â€¢ Anchor æ¥å£çš„ offset ç±»å‹ä» { x: number; y: number } æ”¹ä¸º { x: string; y: string }<br>
            â€¢ anchorUtils.ts æ–°å¢ parseOffsetValue å‡½æ•°æ”¯æŒç™¾åˆ†æ¯”å’Œåƒç´ è§£æ<br>
            â€¢ calculateAnchoredPosition å‡½æ•°æ”¯æŒç›¸å¯¹çˆ¶å®¹å™¨å¤§å°çš„ç™¾åˆ†æ¯”è®¡ç®—<br>
            â€¢ InspectorPanel é”šç‚¹åç§»è¾“å…¥æ§ä»¶æ”¹ä¸º text ç±»å‹ï¼Œæ”¯æŒç™¾åˆ†æ¯”è¾“å…¥<br>
            â€¢ EditableLayoutBox æ‹–æ‹½é€»è¾‘æ”¯æŒå­—ç¬¦ä¸²åç§»é‡çš„æ­£ç¡®æ›´æ–°<br>
            â€¢ æ–°å¢ formatOffsetValue å‡½æ•°ç¡®ä¿åç§»é‡æ ¼å¼ä¸€è‡´æ€§
        </div>

        <h3>4. å…¼å®¹æ€§ä¿è¯</h3>
        <div class="code-block">
// å‘åå…¼å®¹å¤„ç†
// åŸæœ‰çš„æ•°å­—åç§»é‡ä¼šè‡ªåŠ¨è½¬æ¢ä¸º "Npx" æ ¼å¼
// æ–°çš„ç™¾åˆ†æ¯”åç§»é‡æ”¯æŒå“åº”å¼è®¾è®¡

// ç¤ºä¾‹è½¬æ¢:
// æ—§: { x: 10, y: 20 }
// æ–°: { x: "10px", y: "20px" }

// æ–°å¢ç™¾åˆ†æ¯”æ”¯æŒ:
// æ–°: { x: "5%", y: "10%" }
        </div>

        <div class="result">
            ğŸ¯ <strong>æ ¸å¿ƒä¼˜åŠ¿:</strong><br>
            â€¢ <strong>å“åº”å¼è®¾è®¡:</strong> ç™¾åˆ†æ¯”åç§»é‡ç¡®ä¿åœ¨ä¸åŒåˆ†è¾¨ç‡ä¸‹ä¿æŒç›¸å¯¹ä½ç½®<br>
            â€¢ <strong>ç²¾ç¡®æ§åˆ¶:</strong> åƒç´ åç§»é‡æä¾›ç»å¯¹å®šä½çš„ç²¾ç¡®æ§åˆ¶<br>
            â€¢ <strong>æ··åˆä½¿ç”¨:</strong> æ”¯æŒ X è½´ç”¨ç™¾åˆ†æ¯”ã€Y è½´ç”¨åƒç´ ç­‰çµæ´»ç»„åˆ<br>
            â€¢ <strong>å‘åå…¼å®¹:</strong> ä¿æŒä¸ç°æœ‰ä»£ç çš„å…¼å®¹æ€§<br>
            â€¢ <strong>ç±»å‹å®‰å…¨:</strong> TypeScript ç±»å‹å®šä¹‰ç¡®ä¿ç¼–è¯‘æ—¶æ£€æŸ¥
        </div>

        <h3>5. ä½¿ç”¨ç¤ºä¾‹</h3>
        <div class="code-block">
// åœ¨ InspectorPanel ä¸­è®¾ç½®é”šç‚¹åç§»
const anchorConfig = {
    elementId: "header-box",
    originPoint: "bottom-center",
    attachmentMode: "outside", 
    offset: {
        x: "5%",    // ç›¸å¯¹çˆ¶å®¹å™¨å®½åº¦çš„5%
        y: "20px"   // ç»å¯¹åç§»20åƒç´ 
    }
};

// æ‹–æ‹½æ—¶åç§»é‡ä¼šæ™ºèƒ½æ›´æ–°:
// - ç™¾åˆ†æ¯”åç§»é‡æŒ‰æ¯”ä¾‹è°ƒæ•´
// - åƒç´ åç§»é‡æŒ‰ç»å¯¹å€¼è°ƒæ•´
        </div>

        <p><strong>æ„å»ºçŠ¶æ€:</strong> âœ… æˆåŠŸ (760.48 kB)</p>
        <p><strong>ç±»å‹æ£€æŸ¥:</strong> âœ… é€šè¿‡</p>
        <p><strong>åŠŸèƒ½çŠ¶æ€:</strong> âœ… ç™¾åˆ†æ¯”åç§»é‡æ”¯æŒå·²å®Œæ•´å®ç°</p>
    </div>

    <script>
        console.log('ğŸ¯ é”šç‚¹ç™¾åˆ†æ¯”åç§»é‡åŠŸèƒ½æµ‹è¯•é¡µé¢å·²åŠ è½½');
        console.log('âœ… æ‰€æœ‰æ ¸å¿ƒåŠŸèƒ½å·²å®ç°å¹¶é€šè¿‡æ„å»ºéªŒè¯');
    </script>
</body>
</html>
